<Window x:Class="SmartHomeApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Smart Home Controller" Height="900" Width="1400"
        Background="#FAFAFA">
    <Window.Resources>
        <!-- Style cho card thống kê -->
        <Style x:Key="StatCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Margin" Value="12"/>
            <Setter Property="Width" Value="320"/>
            <Setter Property="Height" Value="140"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        <!-- Style cho card thiết bị -->
        <Style x:Key="DeviceCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="12"/>
            <Setter Property="Width" Value="340"/>
            <Setter Property="Height" Value="160"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        <!-- Style cho nút trạng thái online/offline/error -->
        <Style x:Key="StatusLabelStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="4,0"/>
            <Setter Property="Margin" Value="4,0,0,0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="Black"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="MinWidth" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>
        <!-- Style công tắc gạt -->
        <Style x:Key="SwitchToggleStyle" TargetType="ToggleButton">
            <Setter Property="Width" Value="60"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Border x:Name="SwitchBorder"
                                    CornerRadius="14"
                                    Background="#DDD"
                                    Height="28"
                                    Width="60"/>
                            <Ellipse x:Name="SwitchKnob"
                                     Fill="White"
                                     Width="24" Height="24"
                                     Margin="2,2,0,2"
                                     HorizontalAlignment="Left"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="SwitchBorder" Property="Background" Value="#4CAF50"/>
                                <Setter TargetName="SwitchKnob" Property="Margin" Value="34,2,2,2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="24">
            <!-- Thống kê -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <Border Style="{StaticResource StatCardStyle}">
                    <StackPanel>
                        <TextBlock Text="Tổng thiết bị" FontWeight="Bold" FontSize="16"/>
                        <TextBlock Text="8" FontSize="32" FontWeight="Bold" Margin="0,8,0,0"/>
                        <TextBlock Text="thiết bị được kết nối" FontSize="13" Foreground="Gray"/>
                    </StackPanel>
                </Border>
                <Border Style="{StaticResource StatCardStyle}">
                    <StackPanel>
                        <TextBlock Text="Trực tuyến" FontWeight="Bold" FontSize="16"/>
                        <TextBlock Text="6" FontSize="32" FontWeight="Bold" Foreground="Green" Margin="0,8,0,0"/>
                        <TextBlock Text="thiết bị hoạt động" FontSize="13" Foreground="Gray"/>
                    </StackPanel>
                </Border>
                <Border Style="{StaticResource StatCardStyle}">
                    <StackPanel>
                        <TextBlock Text="Đang bật" FontWeight="Bold" FontSize="16"/>
                        <TextBlock x:Name="TextBlockDevicesOn" FontSize="32" FontWeight="Bold" Foreground="#2962FF" Margin="0,8,0,0"/>
                        <TextBlock Text="thiết bị đang sử dụng" FontSize="13" Foreground="Gray"/>
                    </StackPanel>
                </Border>
                <Border Style="{StaticResource StatCardStyle}">
                    <StackPanel>
                        <TextBlock Text="Lỗi" FontWeight="Bold" FontSize="16"/>
                        <TextBlock Text="1" FontSize="32" FontWeight="Bold" Foreground="Red" Margin="0,8,0,0"/>
                        <TextBlock Text="thiết bị cần kiểm tra" FontSize="13" Foreground="Gray"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Thanh tìm kiếm -->
            <Border Background="White" CornerRadius="8" Margin="0,32,0,16" Padding="8" BorderBrush="#E0E0E0" BorderThickness="1" Width="600">
                <DockPanel>
                    <TextBlock Text="🔍" FontSize="18" VerticalAlignment="Center" Margin="8,0"/>
                    <TextBox Width="540" FontSize="15" BorderThickness="0" Background="Transparent"
                             VerticalAlignment="Center" Padding="4"
                             Foreground="Black"
                             Text="Tìm kiếm thiết bị hoặc phòng..." TextChanged="TextBox_TextChanged"/>
                </DockPanel>
            </Border>

            <!-- Danh sách thiết bị -->
            <TextBlock Text="Thiết bị (3)" FontWeight="Bold" FontSize="16" Margin="0,0,0,12"/>
            <WrapPanel>
                <!-- Card: Đèn phòng khách -->
                <Border Style="{StaticResource DeviceCardStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" VerticalAlignment="Top">
                            <TextBlock Text="💡" FontSize="28"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="12,0,0,0">
                            <TextBlock Text="Đèn phòng khách" FontWeight="Bold" FontSize="15"/>
                            <TextBlock Text="Phòng khách" FontSize="13" Foreground="Gray"/>
                            <TextBlock Text="Trạng thái" FontSize="13" Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal">
                                <ToggleButton x:Name="SwitchLivingRoomLight"
                                              Style="{StaticResource SwitchToggleStyle}"
                                              Checked="DeviceToggle_Checked"
                                              Unchecked="DeviceToggle_Unchecked"/>
                                <TextBlock x:Name="SwitchLivingRoomLightText"
                                           Text="Tắt"
                                           FontSize="14"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="Cập nhật: 2 phút trước" FontSize="12" Foreground="Gray" Margin="0,8,0,0"/>
                        </StackPanel>
                        <StackPanel Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Right">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <Ellipse Width="10" Height="10" Fill="Green" VerticalAlignment="Center"/>
                                <TextBlock Text="online" Style="{StaticResource StatusLabelStyle}" Background="Black"/>
                            </StackPanel>
                            <Button Content="⚙ Chi tiết" Margin="0,24,0,0" Width="90" Height="28"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Card: Cảm biến nhiệt độ -->
                <Border Style="{StaticResource DeviceCardStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" VerticalAlignment="Top">
                            <TextBlock Text="🌡️" FontSize="28"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="12,0,0,0">
                            <TextBlock Text="Cảm biến nhiệt độ" FontWeight="Bold" FontSize="15"/>
                            <TextBlock Text="Phòng ngủ" FontSize="13" Foreground="Gray"/>
                            <TextBlock Text="Trạng thái" FontSize="13" Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal">
                                <ToggleButton x:Name="SwitchTemperatureSensor"
                                              Style="{StaticResource SwitchToggleStyle}"
                                              Checked="DeviceToggle_Checked"
                                              Unchecked="DeviceToggle_Unchecked"/>
                                <TextBlock x:Name="SwitchTemperatureSensorText"
                                           Text="Tắt"
                                           FontSize="14"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="Cập nhật: Vừa xong" FontSize="12" Foreground="Gray" Margin="0,8,0,0"/>
                        </StackPanel>
                        <StackPanel Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Right">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <Ellipse Width="10" Height="10" Fill="Green" VerticalAlignment="Center"/>
                                <TextBlock Text="online" Style="{StaticResource StatusLabelStyle}" Background="Black"/>
                            </StackPanel>
                            <Button Content="⚙ Chi tiết" Margin="0,24,0,0" Width="90" Height="28"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Card: Camera an ninh -->
                <Border Style="{StaticResource DeviceCardStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" VerticalAlignment="Top">
                            <TextBlock Text="📷" FontSize="28"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="12,0,0,0">
                            <TextBlock Text="Camera an ninh" FontWeight="Bold" FontSize="15"/>
                            <TextBlock Text="Cửa chính" FontSize="13" Foreground="Gray"/>
                            <TextBlock Text="Trạng thái" FontSize="13" Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal">
                                <ToggleButton x:Name="SwitchSecurityCamera"
                                              Style="{StaticResource SwitchToggleStyle}"
                                              Checked="DeviceToggle_Checked"
                                              Unchecked="DeviceToggle_Unchecked"/>
                                <TextBlock x:Name="SwitchSecurityCameraText"
                                           Text="Tắt"
                                           FontSize="14"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="Cập nhật: Vừa xong" FontSize="12" Foreground="Gray" Margin="0,8,0,0"/>
                        </StackPanel>
                        <StackPanel Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Right">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <Ellipse Width="10" Height="10" Fill="Green" VerticalAlignment="Center"/>
                                <TextBlock Text="online" Style="{StaticResource StatusLabelStyle}" Background="Black"/>
                            </StackPanel>
                            <Button Content="⚙ Chi tiết" Margin="0,24,0,0" Width="90" Height="28"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </WrapPanel>
        </StackPanel>
    </ScrollViewer>
</Window>
